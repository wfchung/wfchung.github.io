import{_,o as a,e as h,h as v,c as l,b as t,i as y,j as k,T as $,r as g,t as r,a as m,C as f,g as b,F as B,p as D,k as R}from"./index.86094c6d.js";const w={name:"PopupModal",data:()=>({isVisible:!1}),methods:{open(){this.isVisible=!0},close(){this.isVisible=!1}}},P={key:0,class:"popup-modal"},C={class:"window"};function S(e,s,i,p,c,o){return a(),h($,{name:"fade"},{default:v(()=>[e.isVisible?(a(),l("div",P,[t("div",C,[y(e.$slots,"default",{},void 0,!0)])])):k("",!0)]),_:3})}var I=_(w,[["render",S],["__scopeId","data-v-27c44f80"]]);const V={name:"ConfirmDialogue",components:{PopupModal:I},data:()=>({title:void 0,message:void 0,okButton:void 0,cancelButton:"Go Back",resolvePromise:void 0,rejectPromise:void 0}),methods:{show(e={}){return this.title=e.title,this.message=e.message,this.okButton=e.okButton,e.cancelButton&&(this.cancelButton=e.cancelButton),this.$refs.popup.open(),new Promise((s,i)=>{this.resolvePromise=s,this.rejectPromise=i})},_confirm(){this.$refs.popup.close(),this.resolvePromise(!0)},_cancel(){this.$refs.popup.close(),this.resolvePromise(!1)}}},x={style:{"margin-top":"0"}},A={class:"btns"};function T(e,s,i,p,c,o){const d=g("popup-modal");return a(),h(d,{ref:"popup"},{default:v(()=>[t("h2",x,r(e.title),1),t("p",null,r(e.message),1),t("div",A,[t("button",{class:"cancel-btn",onClick:s[0]||(s[0]=(...n)=>o._cancel&&o._cancel(...n))},r(e.cancelButton),1),t("span",{class:"ok-btn",onClick:s[1]||(s[1]=(...n)=>o._confirm&&o._confirm(...n))},r(e.okButton),1)])]),_:1},512)}var j=_(V,[["render",T],["__scopeId","data-v-46f3b1c5"]]);const M={data(){return{resourceData:null}},methods:{async fetchData(){this.resourceData=null;try{const e=await m.get(`${f.API_HOST}/api/resources`);console.log(e.data),this.resourceData=e.data}catch(e){console.error(e)}},async ResetResource(){if(await this.$refs.confirmDialogue.show({title:"Reset System",message:"Are you sure you want to reset the system? All data will be lost and cannot be undone!",okButton:"Reset"})){this.resourceData=null;try{const s=await m.post(`${f.API_HOST}/api/resources/reset`);console.log(s.data),alert("System has been initialized.")}catch(s){console.error(s)}this.fetchData()}}},components:{ConfirmDialogue:j},mounted(){this.fetchData()}},u=e=>(D("data-v-e3a3a346"),e=e(),R(),e),N=u(()=>t("h1",null,"Reset System",-1)),F=u(()=>t("br",null,null,-1)),H=u(()=>t("h1",null,"Resources:",-1)),O=u(()=>t("br",null,null,-1)),z={key:0},E={key:1};function G(e,s,i,p,c,o){const d=g("confirm-dialogue");return a(),l(B,null,[t("div",null,[N,t("button",{class:"delete-btn",onClick:s[0]||(s[0]=(...n)=>o.ResetResource&&o.ResetResource(...n))},"Reset"),b(d,{ref:"confirmDialogue"},null,512)]),F,H,O,c.resourceData?(a(),l("pre",E,r(c.resourceData),1)):(a(),l("p",z,"Loading..."))],64)}var q=_(M,[["render",G],["__scopeId","data-v-e3a3a346"]]);export{q as default};
