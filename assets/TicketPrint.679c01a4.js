import{_ as n,u as d,a as m,C as c,r as k,o as s,c as a,g as l}from"./index.86094c6d.js";import{Q as u}from"./QRCode.98801838.js";function p(t){return Date(t).toLocaleString("en-AU")}const D={data(){return{ticketData:null,ticketId:""}},components:{QRCode:u},methods:{async fetchData(){this.ticketData=null;try{const t=d();this.ticketId=t.params.ticketId;const e=await m.get(`${c.API_HOST}/api/tickets/${this.ticketId}/print`);e.statusText=="OK"?this.ticketData=e.data:alert(e.statusText)}catch(t){console.error(t)}}},mounted(){this.fetchData()},computed:{feedQRCode(){return this.ticketData.submitTime=p(this.ticketData.submitTime),`${c.API_HOST}/${this.ticketId}.png`}}},_={class:"ticket-item"},h={key:0},I={key:1};function f(t,e,o,T,i,y){const r=k("QRCode");return s(),a("div",_,[i.ticketData?(s(),a("div",I,[l(r,{ticketId:i.ticketData.ticketId,ticketDisplayId:i.ticketData.ticketDisplayId,resourceDisplayId:i.ticketData.resourceDisplayId,submitTime:i.ticketData.submitTime},null,8,["ticketId","ticketDisplayId","resourceDisplayId","submitTime"])])):(s(),a("div",h,"Loading..."))])}var x=n(D,[["render",f]]);export{x as default};
